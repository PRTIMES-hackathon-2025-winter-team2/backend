@baseUrl = http://localhost:5000
@contentType = application/json

@followId = 4ba10488-13b6-407e-b950-2e35b9b07cd1

### ユーザー登録
# @name register
POST {{baseUrl}}/auth/register
Content-Type: {{contentType}}

{
    "email": "test@example.com",
    "password": "password123",
    "name": "testuser"
}

### ログイン
# @name login
POST {{baseUrl}}/auth/login
Content-Type: {{contentType}}

{
    "email": "test@example.com",
    "password": "password123"
}

### トークンを環境変数として保存
@authToken = {{login.response.body.token}}
@userId = {{login.response.body.user_id}}

### ツリー作成
POST {{baseUrl}}/trees/{{userId}}
Authorization: Bearer {{authToken}}
Content-Type: {{contentType}}

{
    "title": "My First Dream Tree",
    "dreams": [
        {
            "title": "Learn Programming",
            "position": 1
        }
    ]
}

### ユーザプロフィールの取得
GET {{baseUrl}}/users/{{userId}}
Authorization: Bearer {{authToken}}
Content-Type: {{contentType}}


### ユーザプロフィールの更新
PATCH {{baseUrl}}/users/{{userId}}
Authorization: Bearer {{authToken}}
Content-Type: {{contentType}}

{
    "email": "updated@example.com",
    "name": "updateduser"
}


### すべてのユーザプロフィールのリストを取得
GET {{baseUrl}}/users
Authorization: Bearer {{authToken}}
Content-Type: {{contentType}}


### フォロー用のユーザー登録
# @name follow-register
POST {{baseUrl}}/auth/register
Content-Type: {{contentType}}

{
    "email": "follow@example.com",
    "password": "follow123",
    "name": "followuser"
}


### ユーザをフォロー
POST {{baseUrl}}/follow/{{followId}}
Authorization: Bearer {{authToken}}
Content-Type: {{contentType}}


### ユーザのフォローを解除
DELETE  {{baseUrl}}/follow/{{followId}}
Authorization: Bearer {{authToken}}
Content-Type: {{contentType}}


### ユーザのことをフォローしているユーザのリストを取得する
GET {{baseUrl}}/follow/{{userId}}/followers
Authorization: Bearer {{authToken}}
Content-Type: {{contentType}}


### ユーザがフォローしているユーザのリストを取得する
GET {{baseUrl}}/follow/{{userId}}/following
Authorization: Bearer {{authToken}}
Content-Type: {{contentType}}
